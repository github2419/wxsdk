const app = getApp(); import common from 'common.js'; const url = "wxapp/order/creat"; const params = []; const source = "wxapp"; const wxRequest = (params) => common.wxRequest(params, url); function createOrder(e) { var data = e; data.source = source; var userinfo = wx.getStorageSync('userinfo'); data.uid = userinfo.id; data.yg_uid = userinfo.yg_uid ? userinfo.yg_uid : ''; data.yg_token = userinfo.yg_token ? userinfo.yg_token : ''; data.yg_mobile = userinfo.mobile; data.terminal_type = common.getTerminalType(); return new Promise(function (resolve, reject) { wxRequest({ data: data, method: "POST", success: (res) => { console.log(res); let result = res.data; resolve(result) } }) }) } module.exports = { createOrder }